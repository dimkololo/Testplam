:root{
  --bg:#0f1115;
  --text:#e7eaf0;
  --accent:#FF7300;
  --chip:#D9D9D9;
  --popup-bg: rgba(221,221,221,.25);
  --shadow: 0 8px 16px rgba(0,0,0,.25);
  --radius-popup: 42px;
  --radius-chip: 35px;
  --radius-block:16px;

  /* безопасные отступы Telegram */
  --safe-top: max(100px, env(safe-area-inset-top, 0px));
  --safe-bottom: env(safe-area-inset-bottom, 0px);
  --safe-side: max(24px, env(safe-area-inset-left, 0px));

  /* размеры MEDIUM (по умолчанию) */
  --w-faq:160px;
  --w-plus:182px;
  --w-tv:260px;
  --w-chair:190px;
  --w-stump:178px;
  --w-notebook:150px;
  --w-gift:112px;
}
/* SMALL ≤ 360px */
@media (max-width:360px){
  :root{
    --w-faq:120px;
    --w-plus:134px;
    --w-tv:190px;
    --w-chair:150px;
    --w-stump:130px;
    --w-notebook:100px;
    --w-gift:75px;
  }
}
/* LARGE ≥ 834px */
@media (min-width:834px){
  :root{
    --w-faq:300px;
    --w-plus:330px;
    --w-tv:390px;
    --w-chair:330px;
    --w-stump:250px;
    --w-notebook:230px;
    --w-gift:190px;
  }
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  color:var(--text);
  font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
  background:var(--bg);
  overflow:hidden;
}

/* ===== сцена и фон ===== */
.scene{
  position:relative;
  width:100vw;
  height:100svh;
  overflow:hidden;
  background:#0a0d12;
  padding-left:var(--safe-side);
  padding-right:var(--safe-side);
}
.scene__bg{
  position:absolute; inset:0;
  background:center/cover no-repeat;
  background-image:url("./bgicons/bg-base.PNG");
  background-image:image-set(
    url("./bgicons/bg-base.PNG") 1x,
    url("./bgicons/bg-base@2x.PNG") 2x
  );
}

/* ===== кластер: ТВ + кресло + пенёк ===== */
.cluster{
  position:absolute;
  inset:0;                 /* контейнер на всю сцену */
  pointer-events:none;
}
.cluster > img{
  position:absolute; display:block; height:auto;
}
.cluster>img{position:absolute;display:block;height:auto;}
.cluster__tv{
  left:50%;
  top:50%;
  transform:translate(-50%, -50%);
  width: var(--w-tv);
}
.cluster__chair{
  left: calc(50% - 150px);
  top:  calc(50% + 150px);
  transform:translate(-50%, -50%);
  width: var(--w-chair);
}
.cluster__stump{
  left: calc(50% + 150px);
  top:  calc(50% + 150px);
  transform:translate(-50%, -50%);
  width: var(--w-stump);
}

/* ===== иконки ===== */
.icon{
  position:absolute;
  display:block;
  width:auto;height:auto;
  transform:translate(-50%,-50%);
  user-select:none;pointer-events:none;
}

/* верхние облака */
.icon--faq{
  left:calc(22% + var(--safe-side));
  top:var(--safe-top);
  width:var(--w-faq);
  transform:translate(-50%,-50%);
}
.icon--plus{
  left:calc(78% - var(--safe-side));
  top:var(--safe-top);
  width:var(--w-plus);
  transform:translate(-50%,-50%);
}

/* нижние кнопки */
.icon--notebook{
  left:calc(22% + var(--safe-side));
  bottom:calc(var(--safe-bottom) + 16px);
  width:var(--w-notebook);
  transform:translate(-50%,0);
}
.icon--gift{
  left:calc(82% - var(--safe-side));
  bottom:calc(var(--safe-bottom) + 16px);
  width:var(--w-gift);
  transform:translate(-50%,0);
}

/* ===== хит-зоны ===== */
.hit{
  position:absolute;border:0;background:transparent;cursor:pointer;
  transform:translate(-50%,-50%);
}
.hit--faq{
  left:calc(22% + var(--safe-side));
  top:var(--safe-top);
  width:var(--w-faq);
  aspect-ratio:2.6/1;
}
.hit--plus{
  left:calc(78% - var(--safe-side));
  top:var(--safe-top);
  width:var(--w-plus);
  aspect-ratio:3/1;
}
.hit--notebook{
  left:calc(22% + var(--safe-side));
  bottom:calc(var(--safe-bottom) + 16px);
  width:var(--w-notebook);
  aspect-ratio:1/1;
  transform:translate(-50%,0);
}
.hit--gift{
  left:calc(82% - var(--safe-side));
  bottom:calc(var(--safe-bottom) + 16px);
  width:var(--w-gift);
  aspect-ratio:1/1;
  transform:translate(-50%,0);
}
.hit--stump{
  left: calc(50% + 150px);
  top:  calc(50% + 150px);
  transform:translate(-50%, -50%);
  width: var(--w-stump);
  aspect-ratio: 1.6 / 1;  /* при необходимости подправим */
  border: 0; background: transparent; cursor: pointer;
}

/* ===== модалка ===== */
.modal{position:fixed;inset:0;z-index:1000;display:grid;place-items:center}
.modal[hidden]{display:none}
.modal__backdrop{position:absolute;inset:0;background:rgba(0,0,0,.5)}
.modal__dialog{
  position:relative;
  width:min(560px,calc(100vw - 24px));
  max-width:560px;
  border-radius:var(--radius-popup);
  background:var(--popup-bg);
  box-shadow:var(--shadow);
  padding:18px 16px 22px;
}
.modal__content{max-height:calc(100svh - 60px);overflow-y:auto;overflow-x:hidden}
.modal__close{position:absolute;top:10px;left:10px;border:0;background:transparent;color:#fff;font-size:20px;cursor:pointer}

/* ===== попап №1 ===== */
.popup{display:grid;gap:12px;justify-items:center;width:100%;max-width:420px;margin-inline:auto}
.u-center{display:flex;justify-content:center;width:100%}
.btn-pick,.btn-submit{
  display:inline-flex;align-items:center;justify-content:center;
  width:clamp(206px,90%,360px);height:56px;
  border-radius:var(--radius-chip);
  font-size:18px;font-weight:700;border:0;cursor:pointer;user-select:none;
}
.btn-pick{background:var(--chip);color:#000;border:1px solid rgba(0,0,0,.06)}
.btn-submit{background:var(--accent);color:#fff;box-shadow:0 6px 14px rgba(255,115,0,.25)}
.card{width:100%;background:var(--chip);border-radius:var(--radius-block);padding:12px;border:1px solid rgba(0,0,0,.06)}
.slider-card{padding:14px}
.slider-row{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:12px}
.label{color:#000;font-weight:700;opacity:.75}
.range{-webkit-appearance:none;appearance:none;width:100%;height:16px;border-radius:200px;background:#D0D0D0;outline:none}
.range::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:18px;height:18px;border-radius:50%;background:var(--accent);border:1px solid #fff;cursor:pointer}
.range::-moz-range-thumb{width:18px;height:18px;border-radius:50%;background:var(--accent);border:1px solid #fff;cursor:pointer}
.form-card{display:grid;gap:10px;padding:14px}
.field{width:100%;padding:14px 16px;border-radius:16px;border:1px solid rgba(0,0,0,.08);background:#fff;color:#111;font:16px/1.4 inherit}
.field::placeholder{color:#9aa3b2;opacity:.8}
.field:focus{outline:2px solid rgba(255,115,0,.35)}
@media (max-width:340px){
  .btn-pick,.btn-submit{width:clamp(190px,92%,320px);height:52px}
}
html,body{overflow-x:hidden}
